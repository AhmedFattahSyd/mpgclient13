///////////////////////////////////////////////////////////////////////////////////////////////
// Landing or Home module
///////////////////////////////////////////////////////////////////////////////////////////////
import * as React from 'react'
import { Redirect} from 'react-router-dom'
import {MpgGraph} from '../MpgGraph'
///////////////////////////////////////////////////////////////////////////////////////////////
// define interfaces for state and props
///////////////////////////////////////////////////////////////////////////////////////////////
interface ILandingOrHomeProps {
  graph: MpgGraph
}
interface ILandingOrHomeState {
  graph: MpgGraph
}
///////////////////////////////////////////////////////////////////////////////////////////////
// Landing or Home component class
///////////////////////////////////////////////////////////////////////////////////////////////
export class LandingOrHome extends React.Component<ILandingOrHomeProps, ILandingOrHomeState> {
  constructor (props: ILandingOrHomeProps){
    super(props)
    this.state = {
      graph: props.graph
    }
  }
  public render() {
    return(
      this.state.graph.isUserAuthenticated ? (
        <Redirect to="/Home" />
      ) : (
        <Redirect to="/Landing" />
      )
    )
  }
  ///////////////////////////////////////////////////////////////////////////////////////////////
  // component will receive update props
  ///////////////////////////////////////////////////////////////////////////////////////////////
  componentWillReceiveProps(props: ILandingOrHomeProps){
    this.setState({graph: this.props.graph},)
  }
}